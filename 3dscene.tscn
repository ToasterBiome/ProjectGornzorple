[gd_scene load_steps=16 format=3 uid="uid://b8drvsigjfy1s"]

[ext_resource type="ArrayMesh" uid="uid://bbg3jrnm7pnc0" path="res://models/ships/player_ship/player_ship.obj" id="1_hjghr"]
[ext_resource type="Script" path="res://GameManager.gd" id="1_o60uw"]
[ext_resource type="Script" path="res://Player.gd" id="1_tc5q8"]
[ext_resource type="Texture2D" uid="uid://bo18a08038yj8" path="res://sprites/redbullet.png" id="3_cfulv"]
[ext_resource type="ArrayMesh" uid="uid://ba4dquw56chm3" path="res://models/ships/satellite/Satellite_body.obj" id="4_wt0bl"]
[ext_resource type="ArrayMesh" uid="uid://tpdovl150emg" path="res://models/ships/satellite/Satellite_dish.obj" id="5_vkkvx"]
[ext_resource type="Script" path="res://Satellite_dish.gd" id="6_538sq"]
[ext_resource type="Script" path="res://Enemy.gd" id="8_mh8o4"]
[ext_resource type="ArrayMesh" uid="uid://bt724lo2ur0v3" path="res://models/ships/enemy_ship/pirate_ship/pirate_ship.obj" id="9_swosk"]

[sub_resource type="SphereShape3D" id="SphereShape3D_j1qnr"]
radius = 1.48356

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_0uet6"]
emission_shape = 6
emission_ring_axis = Vector3(0, 1, 0)
emission_ring_height = 0.0
emission_ring_radius = 15.0
emission_ring_inner_radius = 14.0
gravity = Vector3(0, 0, 0)
radial_accel_min = -18.0
radial_accel_max = -18.0
collision_mode = 1
collision_friction = 0.0
collision_bounce = 0.65

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mngdk"]
transparency = 1
albedo_texture = ExtResource("3_cfulv")

[sub_resource type="PlaneMesh" id="PlaneMesh_ywv7a"]
material = SubResource("StandardMaterial3D_mngdk")
size = Vector2(1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_oa08i"]
transparency = 1
albedo_color = Color(1, 1, 1, 0.0470588)
emission_enabled = true
emission = Color(1, 1, 1, 1)

[sub_resource type="SphereMesh" id="SphereMesh_mbp77"]
material = SubResource("StandardMaterial3D_oa08i")
flip_faces = true
radius = 4.0
height = 8.0

[node name="World" type="Node3D"]
script = ExtResource("1_o60uw")

[node name="Player" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
collision_mask = 0
gravity_scale = 0.0
lock_rotation = true
script = ExtResource("1_tc5q8")

[node name="PlayerShip" type="MeshInstance3D" parent="Player"]
transform = Transform3D(0.15, 0, 0, 0, 0.15, 0, 0, 0, 0.15, 0, 0, 0)
mesh = ExtResource("1_hjghr")
skeleton = NodePath("../..")

[node name="Shoot Offset" type="Node3D" parent="Player/PlayerShip"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.14689e-07, 4.91152)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
shape = SubResource("SphereShape3D_j1qnr")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 10)
projection = 1
current = true
size = 15.0
near = 8.5

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 0, 0)

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
amount = 128
lifetime = 1.5
process_material = SubResource("ParticleProcessMaterial_0uet6")
draw_pass_1 = SubResource("PlaneMesh_ywv7a")

[node name="Radiation Shield Satellite" type="Node3D" parent="."]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)

[node name="Satellite_body" type="MeshInstance3D" parent="Radiation Shield Satellite"]
mesh = ExtResource("4_wt0bl")

[node name="Satellite_dish" type="MeshInstance3D" parent="Radiation Shield Satellite/Satellite_body"]
mesh = ExtResource("5_vkkvx")
script = ExtResource("6_538sq")

[node name="Shield" type="MeshInstance3D" parent="Radiation Shield Satellite"]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0)
mesh = SubResource("SphereMesh_mbp77")
skeleton = NodePath("../..")

[node name="GPUParticlesCollisionSphere3D" type="GPUParticlesCollisionSphere3D" parent="Radiation Shield Satellite/Shield"]
radius = 4.0

[node name="Enemy" type="RigidBody3D" parent="." node_paths=PackedStringArray("firing_points")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, -4.20579, 3.07776, 0)
collision_layer = 2
collision_mask = 2
gravity_scale = 0.0
continuous_cd = true
contact_monitor = true
script = ExtResource("8_mh8o4")
firing_points = [NodePath("PirateShip/Firing Point A"), NodePath("PirateShip/Firing Point B"), NodePath("PirateShip/Firing Point C"), NodePath("PirateShip/Firing Point D")]

[node name="Firing Timer" type="Timer" parent="Enemy"]
wait_time = 0.5
autostart = true

[node name="PirateShip" type="MeshInstance3D" parent="Enemy"]
transform = Transform3D(0.15, 0, 0, 0, 0.15, 0, 0, 0, 0.15, 0, 0, 0)
mesh = ExtResource("9_swosk")
skeleton = NodePath("../..")

[node name="Firing Point A" type="Node3D" parent="Enemy/PirateShip"]
transform = Transform3D(1, 0, 0, 0, 1, 3.55271e-15, 0, -3.55271e-15, 1, -7.23945, 0, 0)

[node name="Firing Point B" type="Node3D" parent="Enemy/PirateShip"]
transform = Transform3D(0.999999, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 7.28638, 0, 0)

[node name="Firing Point C" type="Node3D" parent="Enemy/PirateShip"]
transform = Transform3D(0.999999, 0, 0, 0, 0.999999, 1.77636e-14, 0, -1.77636e-14, 0.999999, 4.65285, 2.48377e-07, 5.68219)

[node name="Firing Point D" type="Node3D" parent="Enemy/PirateShip"]
transform = Transform3D(1, 0, 0, 0, 1, 2.4869e-14, 0, -2.4869e-14, 1, -4.61529, 2.48377e-07, 5.68219)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Enemy"]
shape = SubResource("SphereShape3D_j1qnr")
